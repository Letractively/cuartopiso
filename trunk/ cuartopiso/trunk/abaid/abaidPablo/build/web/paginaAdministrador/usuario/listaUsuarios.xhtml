<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">



    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Inicio</title>
            </f:facet>
        </h:head>

        <ui:composition template="/template.xhtml">
            <ui:define name="title">
                <h:outputText value="#{bundle.ListUsuarioTitle}"></h:outputText>
            </ui:define>
            <ui:define name="body">
                <h:body class="pepe">
                    <h:form id="listaUsuario" styleClass="jsfcrud_list_form">
                        <p:layout fullPage="true">

                            <p:layoutUnit position="north" size="100" closable="true">
                                vfv
                            </p:layoutUnit>

                            <p:layoutUnit position="south" size="50" closable="true">
                                fvf
                            </p:layoutUnit>


                            <p:layoutUnit position="west" size="175">
                                <br />
                                <h:commandButton action="#{usuarioController.prepareCreate}" value="#{bundle.ListUsuarioCreateLink}"/>
                                <br />
                                <br />
                                <h:button outcome="/administrador.xhtml" value="#{bundle.ListUsuarioIndexLink}"/>
                            </p:layoutUnit>


                            <p:layoutUnit position="center">

                                <dir>
                                    <p:panel menuTitle="Opciones del Administrador">
                                        <p:panelGrid columns="4"  title="Opciones del Administrador">
                                            <p:commandButton value="Planes"  oncomplete="pregunta1.show()" icon="ui-icon-document" />
                                            <p:commandButton value="Usuarios" oncomplete="pregunta2.show()" icon="ui-icon-search"  />
                                            <p:button value="Textos" outcome="/textos/paginaTexto.xhtml"  icon="ui-icon-star"/> 
                                            <p:button value="Empresa"  outcome="/empresa/empresaPagina.xhtml" icon="ui-icon-wrench"/>  
                                        </p:panelGrid>
                                    </p:panel>
                                    <p:confirmDialog  header="¡¡¡LA INFORMACION SE PERDERA SINO LA GUARDA!!!" widgetVar="pregunta1"  message="¿Desea ir a la pagina de PLANES?"
                                                      appendToBody="true" style="text-align: center">
                                        <center>
                                            <p:button value="No"/>
                                            <p:button value="Si" outcome="/paginaAdministrador/plan/listaPlanes.xhtml"/>
                                        </center>
                                    </p:confirmDialog>

                                </dir>


                                <dir>
                                    <h:panelGroup id="messagePanel" layout="block">
                                        <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
                                    </h:panelGroup>
                                    <h:outputText escape="false" value="#{bundle.ListUsuarioEmpty}" rendered="#{usuarioController.items.rowCount == 0}"/>
                                    <h:panelGroup rendered="#{usuarioController.items.rowCount > 0}">
                                        <h:outputText value="#{usuarioController.pagination.pageFirstItem + 1}..#{usuarioController.pagination.pageLastItem + 1}/#{usuarioController.pagination.itemsCount}"/>&nbsp;
                                        <h:commandLink action="#{usuarioController.previous}" value="#{bundle.Previous} #{usuarioController.pagination.pageSize}" rendered="#{usuarioController.pagination.hasPreviousPage}"/>&nbsp;
                                        <h:commandLink action="#{usuarioController.next}" value="#{bundle.Next} #{usuarioController.pagination.pageSize}" rendered="#{usuarioController.pagination.hasNextPage}"/>&nbsp;
                                        <p:dataTable value="#{usuarioController.items}" var="item" border="0" cellpadding="2" cellspacing="0"  rowClasses="jsfcrud_odd_row,jsfcrud_even_row" rules="all" style="border:solid 1px">

                                            <p:ajax event="rowSelect" onsuccess="pregunta.show()" update=":listaUsuario:verUsuarios" immediate="true"   /> 


                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value=" "/>
                                                </f:facet>
                                                <p:commandButton action="#{usuarioController.prepareView}" icon="ui-icon-search" oncomplete="pregunta.show()"/>
                                                <h:outputText />
                                                <p:commandLink action="#{usuarioController.prepareEdit}" value="#{bundle.ListUsuarioEditLink}"/>
                                                <h:commandLink action="#{usuarioController.destroy}" value="#{bundle.ListUsuarioDestroyLink}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_idUsuario}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.idUsuario}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_nombre}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.nombre}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_apellido}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.apellido}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_dni}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.dni}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_mail}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.mail}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_telefono1}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.telefono1}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_telefono2}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.telefono2}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_psw}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.psw}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_fechaNac}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.fechaNac}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListUsuarioTitle_tipo}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.tipo}"/>
                                            </p:column>
                                        </p:dataTable>
                                    </h:panelGroup>
                                    <dir>
                                        <p:dialog id="verUsuarios" header="Datos Del Plan" widgetVar="pregunta"  
                                                  appendToBody="true" style="text-align: center">
                                            <p:panelGrid columns="2">
                                                <h:outputText value="#{bundle.ViewUsuarioLabel_nombre}"/>
                                                <h:outputText value="#{usuarioController.selected.nombre}" title="#{bundle.ViewUsuarioTitle_nombre}"/>
                                                <h:outputText value="#{bundle.ViewUsuarioLabel_apellido}"/>
                                                <h:outputText value="#{usuarioController.selected.apellido}" title="#{bundle.ViewUsuarioTitle_apellido}"/>
                                                <h:outputText value="#{bundle.ViewUsuarioLabel_dni}"/>
                                                <h:outputText value="#{usuarioController.selected.dni}" title="#{bundle.ViewUsuarioTitle_dni}"/>
                                                <h:outputText value="#{bundle.ViewUsuarioLabel_mail}"/>
                                                <h:outputText value="#{usuarioController.selected.mail}" title="#{bundle.ViewUsuarioTitle_mail}"/>
                                                <h:outputText value="#{bundle.ViewUsuarioLabel_telefono1}"/>
                                                <h:outputText value="#{usuarioController.selected.telefono1}" title="#{bundle.ViewUsuarioTitle_telefono1}"/>
                                                <h:outputText value="#{bundle.ViewUsuarioLabel_telefono2}"/>
                                                <h:outputText value="#{usuarioController.selected.telefono2}" title="#{bundle.ViewUsuarioTitle_telefono2}"/>
                                                <h:outputText value="#{bundle.ViewUsuarioLabel_psw}"/>
                                                <h:outputText value="#{usuarioController.selected.psw}" title="#{bundle.ViewUsuarioTitle_psw}"/>
                                                <h:outputText value="#{bundle.ViewUsuarioLabel_fechaNac}"/>
                                                <h:outputText value="#{usuarioController.selected.fechaNac}" title="#{bundle.ViewUsuarioTitle_fechaNac}"/>
                                                <h:outputText value="#{bundle.ViewUsuarioLabel_tipo}"/>
                                                <h:outputText  value="#{usuarioController.selected.tipo}" title="#{bundle.ViewUsuarioTitle_tipo}"/>
                                            </p:panelGrid>
                                        </p:dialog>
                                    </dir>
                                </dir>

                            </p:layoutUnit>

                        </p:layout>
                    </h:form>
                </h:body>
            </ui:define>
        </ui:composition>
    </f:view>
</html>
