<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Inicio</title>
            </f:facet>
        </h:head>

        <ui:composition template="/template.xhtml">
            <ui:define name="title">
                <h:outputText value="#{bundle.ListInteresTitle}"></h:outputText>
            </ui:define>
            <ui:define name="body">
                <body>
                    <h:form id="listaInteres" styleClass="jsfcrud_list_form">
                        <p:layout fullPage="true">

                            <p:layoutUnit position="north" size="100" closable="true">
                                vfv
                            </p:layoutUnit>

                            <p:layoutUnit position="south" size="50" closable="true">
                                fvf
                            </p:layoutUnit>


                            <p:layoutUnit position="west" size="175">
                                <br />
                                <h:commandButton action="#{interesController.prepareCreate}" value="#{bundle.ListInteresCreateLink}"/>
                                <br/>
                                <br />
                                <h:button outcome="/paginaAdministrador/plan/listaPlanes.xhtml" value="#{bundle.ListInteresIndexLink}"/>
                            </p:layoutUnit>


                            <p:layoutUnit position="center">

                               
                                <dir>
                                    <p:panel menuTitle="Opciones del Administrador">
                                        <p:panelGrid columns="4"  title="Opciones del Administrador">
                                            <p:commandButton value="Planes"  oncomplete="pregunta1.show()" icon="ui-icon-document" />
                                            <p:commandButton value="Usuarios" oncomplete="pregunta2.show()" icon="ui-icon-search"  />
                                            <p:button value="Textos" outcome="/textos/paginaTexto.xhtml"  icon="ui-icon-star"/> 
                                            <p:button value="Empresa"  outcome="/empresa/empresaPagina.xhtml" icon="ui-icon-wrench"/>  
                                        </p:panelGrid>
                                    </p:panel>
                                    <p:confirmDialog  header="¡¡¡LA INFORMACION SE PERDERA SINO LA GUARDA!!!" widgetVar="pregunta1"  message="¿Desea ir a la pagina de PLANES?"
                                                      appendToBody="true" style="text-align: center">
                                        <center>
                                            <p:button value="No"/>
                                            <p:button value="Si" outcome="/paginaAdministrador/plan/listaPlanes.xhtml"/>
                                        </center>
                                    </p:confirmDialog>
                                    <p:confirmDialog  header="¡¡¡LA INFORMACION SE PERDERA SINO LA GUARDA!!!" widgetVar="pregunta2"  message="¿Desea ir a la pagina de USUARIO?"
                                                      appendToBody="true" style="text-align: center">
                                        <center>
                                            <p:button value="No"/>
                                            <p:button value="Si" outcome="/paginaAdministrador/usuario/listaUsuarios.xhtml"/>
                                        </center>
                                    </p:confirmDialog>
                                </dir>



                                <dir>
                                    <h:panelGroup id="messagePanel" layout="block">
                                        <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
                                    </h:panelGroup>
                                    <h:outputText escape="false" value="#{bundle.ListInteresEmpty}" rendered="#{interesController.items.rowCount == 0}"/>
                                    <h:panelGroup rendered="#{interesController.items.rowCount > 0}">
                                        <h:outputText value="#{interesController.pagination.pageFirstItem + 1}..#{interesController.pagination.pageLastItem + 1}/#{interesController.pagination.itemsCount}"/>&nbsp;
                                        <h:commandLink action="#{interesController.previous}" value="#{bundle.Previous} #{interesController.pagination.pageSize}" rendered="#{interesController.pagination.hasPreviousPage}"/>&nbsp;
                                        <h:commandLink action="#{interesController.next}" value="#{bundle.Next} #{interesController.pagination.pageSize}" rendered="#{interesController.pagination.hasNextPage}"/>&nbsp;
                                        <p:dataTable value="#{interesController.items}" var="item"  style="border:solid 1px">

                                            <p:ajax event="rowSelect" update=":listaInteres:verInteres"  oncomplete="pregunta3.show()"/>  

                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="&nbsp;"/>
                                                </f:facet>
                                                <p:commandButton action="#{interesController.prepareView}" icon="ui-icon-search" oncomplete="pregunta3.show()"/>
                                                <h:outputText value=" "/>
                                                <h:commandLink action="#{interesController.prepareEdit}" value="#{bundle.ListInteresEditLink}"/>
                                                <h:outputText value=" "/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListInteresTitle_idInteres}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.idInteres}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListInteresTitle_gastosAdmin}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.gastosAdmin}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListInteresTitle_tasa}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.tasa}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListInteresTitle_sellado}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.sellado}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListInteresTitle_recargoXRefinanciacion}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.recargoXRefinanciacion}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListInteresTitle_intXMora}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.intXMora}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListInteresTitle_fecha}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.fecha}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListInteresTitle_observacion}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.observacion}"/> 
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="#{bundle.ListInteresTitle_vigente}"/>
                                                </f:facet>
                                                <h:outputText value="#{item.estado}"/> 
                                            </p:column>

                                        </p:dataTable>
                                    </h:panelGroup>


                                    <dir>
                                        <p:dialog id="verInteres" header="Datos Del Plan" widgetVar="pregunta3"  
                                                  appendToBody="true" style="text-align: center">
                                            <h:panelGrid columns="2">
                                                <h:outputText value="#{bundle.ViewInteresLabel_idInteres}"/>
                                                <h:outputText value="#{interesController.selected.idInteres}" title="#{bundle.ViewInteresTitle_idInteres}"/>
                                                <h:outputText value="#{bundle.ViewInteresLabel_gastosAdmin}"/>
                                                <h:outputText value="#{interesController.selected.gastosAdmin}" title="#{bundle.ViewInteresTitle_gastosAdmin}"/>
                                                <h:outputText value="#{bundle.ViewInteresLabel_tasa}"/>
                                                <h:outputText value="#{interesController.selected.tasa}" title="#{bundle.ViewInteresTitle_tasa}"/>
                                                <h:outputText value="#{bundle.ViewInteresLabel_sellado}"/>
                                                <h:outputText value="#{interesController.selected.sellado}" title="#{bundle.ViewInteresTitle_sellado}"/>
                                                <h:outputText value="#{bundle.ViewInteresLabel_recargoXRefinanciacion}"/>
                                                <h:outputText value="#{interesController.selected.recargoXRefinanciacion}" title="#{bundle.ViewInteresTitle_recargoXRefinanciacion}"/>
                                                <h:outputText value="#{bundle.ViewInteresLabel_intXMora}"/>
                                                <h:outputText value="#{interesController.selected.intXMora}" title="#{bundle.ViewInteresTitle_intXMora}"/>
                                            </h:panelGrid>

                                        </p:dialog>
                                    </dir>

                                </dir>

                                vfv
                            </p:layoutUnit>
                        </p:layout>
                    </h:form>
                </body>
            </ui:define>
        </ui:composition>
    </f:view>
</html>