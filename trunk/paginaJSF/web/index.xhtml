<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.prime.com.tr/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>

    </h:head>
    <h:body >
        <body background="./imagenes/fondo2.jpg"/>
        <h:form>
            <p:imageSwitch effect="fade">
                <ui:repeat value="#{Olive.images}" var="image">
                    <p:graphicImage value="/imagenes/#{image}" />
                </ui:repeat>
            </p:imageSwitch>
        </h:form>
        <h2><h:outputText  value="Best Sellers and New Products " /></h2>
        <h:form prependId="false">

            <p:dataGrid  var="pro" value="#{Olive.productos}" columns="2"
                        rows="6"  effect="true"  >

                <p:column  >
                    <p:panel header="#{pro.nombre}" style="text-align:center" >
                        <h:panelGrid  columns="1"  style="width:100%">
                            <p:graphicImage value="/imagenes/#{pro.id}.jpg"/>
                            <h:outputText value="#{pro.capacidad}" />
                            <h:outputText value="Precio: #{pro.precio} $" />

                            <p:commandLink update="pDetail" oncomplete="pDialog.show()" title="Ver detalles">
                                <p:graphicImage value="/imagenes/search.png"/>
                                <f:setPropertyActionListener value="#{pro}"
                                                             target="#{Olive.producto}" />
                            </p:commandLink>
                        </h:panelGrid>
                    </p:panel>
                </p:column>

            </p:dataGrid>

            <p:dialog  header="Detalle producto" widgetVar="pDialog" width="600" height="400" modal="true">
                <p:outputPanel id="pDetail" style="text-align:center;" layout="block">

                    <p:graphicImage value="/imagenes/#{Olive.producto.id}.jpg"/>

                    <h:panelGrid  columns="2" cellpadding="5">
                        <h:outputLabel for="Nombre" value="Nombre: " />
                        <h:outputText id="Nombre" value="#{Olive.producto.nombre}" />

                        <h:outputLabel for="Capacidad" value="Capacidad: " />
                        <h:outputText id="Capacidad" value="#{Olive.producto.capacidad}" />

                        <h:outputLabel for="Descripcion" value="Descripcion: " />
                        <h:outputText id="Descripcion" value="#{Olive.producto.descrpcion}"/>
                    </h:panelGrid>
                </p:outputPanel>
            </p:dialog>

        </h:form>
    </h:body>
</html>

